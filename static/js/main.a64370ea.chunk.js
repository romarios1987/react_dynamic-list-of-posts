(this["webpackJsonpreact_dynamic-list-of-posts"]=this["webpackJsonpreact_dynamic-list-of-posts"]||[]).push([[0],{23:function(e,t,n){},24:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(7),l=n.n(r),s=n(2),o=n(1),m=n(8),u=n.n(m),i=function(e){return fetch("https://jsonplaceholder.typicode.com"+e).then((function(e){return e.json()}))},d=function(e){var t=e.user,n=t.name,a=t.email,r=t.address,l=r.city,s=r.street,o=r.zipcode;return c.a.createElement("div",null,c.a.createElement("p",null,c.a.createElement("b",null,"Info Author: "),"".concat(n," "),c.a.createElement("a",{href:"mailto:".concat(a)},a)),c.a.createElement("address",null,c.a.createElement("b",null,"Address: "),"".concat(o,", ").concat(s,", ").concat(l)))},f=function(e){var t=e.comment,n=t.name,a=t.email,r=t.body;return c.a.createElement("li",{className:"has-background-grey-light px1"},c.a.createElement("h4",{className:"title is-4"},c.a.createElement("b",null,n)),c.a.createElement("p",null,r),c.a.createElement("a",{href:"mailto:".concat(a)},a))},p=function(e){var t=e.comments;return c.a.createElement("ul",{className:"content"},t.map((function(e){return c.a.createElement(f,{key:e.id,comment:e})})))},E=function(e){var t=e.post,n=t.title,a=t.body,r=t.user,l=t.comments;return c.a.createElement("div",{className:"box"},c.a.createElement("h3",{className:"title is-3"},n),c.a.createElement("p",null,a),c.a.createElement(d,{user:r}),c.a.createElement("hr",null),c.a.createElement("h4",{className:"title is-4"},"Comments"),c.a.createElement(p,{comments:l}))},b=function(e){var t=e.postList;return c.a.createElement("div",null,t.map((function(e){return c.a.createElement(E,{key:e.id,post:e})})))},h=(n(23),function(){var e=Object(a.useState)([]),t=Object(o.a)(e,2),n=t[0],r=t[1],l=Object(a.useState)(!1),m=Object(o.a)(l,2),d=m[0],f=m[1],p=Object(a.useState)(""),E=Object(o.a)(p,2),h=E[0],v=E[1],j=Object(a.useState)(""),y=Object(o.a)(j,2),g=y[0],O=y[1],N=Object(a.useMemo)((function(){return function(e,t){var n=new RegExp(t.trim(),"gi");return e.filter((function(e){var t=e.title,a=e.body;return n.test(t)||n.test(a)}))}(n,g)}),[g,n]),k=Object(a.useCallback)(u()(O,1e3),[]);return c.a.createElement("div",{className:"container"},c.a.createElement("h1",{className:"title has-text-centered"},"Dynamic list of posts"),n.length?c.a.createElement(c.a.Fragment,null,c.a.createElement("input",{type:"text",className:"input is-success mb2",value:h,placeholder:"Search...",onChange:function(e){v(e.target.value),k(e.target.value)}}),c.a.createElement(b,{postList:N})):c.a.createElement(c.a.Fragment,null,c.a.createElement("button",{type:"button",className:"button is-info",onClick:function(){f(!0),Promise.all([i("/users"),i("/posts"),i("/comments")]).then((function(e){var t=Object(o.a)(e,3),n=t[0],a=t[1],c=t[2];f(!1);var l=a.map((function(e){return Object(s.a)(Object(s.a)({},e),{},{user:n.find((function(t){return t.id===e.userId})),comments:c.filter((function(t){return t.postId===e.id}))})}));r(l)})).catch((function(){f(!1)}))},disabled:d},"Load"),d&&c.a.createElement("p",{className:"text"},"Loading...")))});l.a.render(c.a.createElement(h,null),document.getElementById("root"))},9:function(e,t,n){e.exports=n(24)}},[[9,1,2]]]);
//# sourceMappingURL=main.a64370ea.chunk.js.map